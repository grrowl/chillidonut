/*
from <http://matthewlein.com/ceaser/>:
	 InOutQuint: cubic-bezier(0.860, 0.000, 0.070, 1.000)
	- too much for the big effect, the "jump" is too sudden
*/
@mixin prefix($name, $argument) {
  #{$name}: $argument;
  -webkit-#{$name}: $argument;
  -moz-#{$name}: $argument;
}

@mixin gradient($steps...) {
  /* Firefox 3.6+ */
  background-image: -moz-linear-gradient($steps);

  /* Safari 5.1+, Chrome 10+ */
  background-image: -webkit-linear-gradient(left top, $steps);

  /* Opera 11.10+ */
  background-image: -o-linear-gradient($steps);

	background-size: 40px 40px;
}

// striped background
@mixin stripy-bg($primary, $stripe) {
	$bg-gradient: $primary 0%, $primary 25%, $stripe 25%,
																$stripe 50%, $primary 50%,
																$primary 75%, $stripe 75%;
	@include gradient($bg-gradient);
}

body {
	margin: 0;
	color: #dfe2e2;
	font-family: sans-serif;
	background-color: #1e2a38;
	@include stripy-bg(#1a2735, #101d2c);
	background-attachment: fixed;
}
a, a:link, a:active, a:visited, a:hover {
	/*color: inherit;*/
	text-decoration: none;
	background-color: rgba(0,0,0,1);
	padding: 4px;
	color: #BBB;
}
a:visited {
	color: lightgrey;
}
a:hover {
	color: inherit;
	/*text-decoration: underline;*/
	background-color: rgba(0,0,0,0.4);
}

header {
	position: relative;
}
	header .container {
		position: relative;
		width: 960px;
		margin: 0px auto;
		padding: 20px 0;
		border-bottom: 1px solid #dfe2e2;
	}

	header h1 {
		font-size: 5em;
		margin: 0.1em 0 0.3em;
		line-height: 0.8;
		font-weight: bolder;

		color: white;

		// @include prefix(animation, scroll-bg 20s cubic-bezier(0.860, 0.000, 0.070, 1.000) 0s infinite);
		/*
		text-indent: 50px;
		width: 960px;
		height: 190px;
		margin: 0px auto;
		border-bottom: 1px solid #dfe2e2;
		line-height: 190px;
		text-align: center;
		*/
	}

	header p {
		margin-right: 355px;
	}

	header nav {
		position: relative;
		float: right;
		width: 355px;
	}
	header nav ul {
		position: absolute;
		left: 0px;
		bottom: 0px;
		margin: 1em 0;
		list-style: none;
	}
	header nav ul li {
		line-height: 1.5em;
	}
	header nav .icon-github {
		padding-left: 20px;
		background: url('../images/icons/github.png') left center no-repeat;
	}
	header nav .icon-twitter {
		padding-left: 20px;
		background: url('../images/icons/twitter.png') left center no-repeat;
	}

	h1, h2, h3, .opentext, p, .datenotes, .image {
		font-family: 'Pontano Sans', sans-serif;
		font-weight: normal;
	}

section {
	width: 960px;
	margin: 0px auto;
}
/*
// we absolutely position the items on load so animations work nicely... so this
// isn't the solution.
@media all and (min-width: 1280px) {
	section, header h1 {
		width: 1280px;
	}
}
@media all and (min-width: 1600px) {
	section, header h1 {
		width: 1600px;
	}
}
*/
section h1 {
	line-height: 80px;
	height: 80px;
	margin: 0;
}
#projectlist {
	margin: 0; padding: 0;
	list-style: none;
	position: relative;
	-webkit-perspective: 500;
}
#projectlist > li {
	position: relative;
	float: left;
	width: 300px;
	height: 400px;
	margin-right: 30px;
	opacity: 1;
	overflow: hidden;
}
#projects.animated ul li {
	@include prefix(transition, all 0.5s ease 0s);
	/*-webkit-transition: top, left, width, height 0.5s ease 0s;*/
}
#projectlist > li:nth-child(3n) {
	margin-right: 0px;
}
#projectlist > li:nth-child(3n+1) {
	clear: left;
}
#projectlist > li .image {
	width: 300px;
	height: 300px;
	overflow: hidden;
}
#projectlist > li:hover .image {
	height: 390px;
}
	#projectlist > li.text .image {
		background-color: white;

		color: black;
		font-weight: bold;
	}
	#projectlist > li.text .image span {
		font-size: 4em;
		display: block;
		line-height: 80%;
		padding: 0.2em 0.1em;
	}
#projects h2, #projects h3, #projects .opentext, #projects .description {
	position: absolute;
	left: 0;
	margin: 0;
	line-height: 150%;
	background-color: black;
	z-index: 2;
	@include prefix(transition, left 0.5s ease 0s);
	padding: 0px 2px;
}
.awardstar {
	font-size: 0.5em;
	vertical-align: middle;

	.active & {
		display: none;
	}
}
.awardlist {
	padding-left: 1em;

	li {
		list-style: none;
		padding-left: 0.4em;
	}
	li:before {
		padding-right: 0.5em;
		font-size: 0.5em;
		vertical-align: middle;
		content: '\2605  ';
	}
}

#projectlist > li:hover h2,
#projectlist > li:hover h3,
#projectlist > li:hover .opentext {
	left: 8px;
}
#projectlist > li:not(.active), #projectlist > li.active .image {
	cursor: pointer;
}
#projects h2 {
	top: 300px;
}
#projects h3 {
	top: 330px;
	white-space: nowrap;
	/*-webkit-transition: all 0.4s ease 0.01s;*/
}
#projectlist > li h3 .agency, #projectlist li .datenotes {
	opacity: 0;
}
#projectlist > li .agency {
	display: none;
}
#projectlist > li .datenotes {
	background-color: black;
}
#projects .content {
	position: absolute;
	top: 360px;
	left: 0px;
	/*-webkit-transition: all 0.4s ease 0.01s;*/
	opacity: 0;
	height: 0px;
	width: 480px;
}
#projects .opentext {
	z-index: 1;
	top: 300px;
	@include prefix(transition, all 0.5s ease 0s);
}
#projectlist > li:hover .opentext {
	top: 357px;
}
#projects .image {
	position: relative;
	@include prefix(transition, #{width, height 0.5s ease 0s});

	img {
		position: absolute;
		@include prefix(transition, all 0.5s ease 0s);
	}

	/* some kind of slideshow */
	&.cycle {
		img {
			opacity: 0;
			@include prefix(animation, fade-image 20s ease 0s infinite);
		}
		img:nth-child(1) {
			opacity: 1 !important;
			// @include prefix(animation-delay, 0s);
			@include prefix(animation, none);
		}
		img:nth-child(2) {
			@include prefix(animation-delay, 5s);
		}
		img:nth-child(3) {
			@include prefix(animation-delay, 10s);
		}
		img:nth-child(4) {
			@include prefix(animation-delay, 15s);
		}
	}
}
	/* projects list */
	#projects .a4l {
		img {
			left: -130px;
			top: -58px;
			width: auto;
			height: 450px;
		}
		&.active img {
			left: -250px;
			top: -63px;
			height: 490px;
		}

		img:nth-child(1) {
			left: -70px;
			top: 0px;
			height: 410px;
		}
		&.active img:nth-child(1) {
			left: -255px;
			top: -60px;
			height: 550px;
		}

		img:nth-child(3) {
			left: -390px;
			top: -60px;
			height: 460px;
		}
		&.active img:nth-child(3) {
			left: -80px;
			top: 0px;
			height: 400px;
		}
	}

	#projects .mario {
		img {
			left: -190px;
			top: 0px;
			width: auto;
			height: 390px;
		}
		&.active img {
			left: -120px;
			top: 0px;
			height: 450px;
		}

		img:nth-child(1) {
			left: -120px;
			top: -15px;
			height: 405px;
		}
		&.active img:nth-child(1) {
			left: -50px;
			top: -10px;
		}

		&.active img:nth-child(3) {
			left: -300px;
		}

		img:nth-child(4) {
			left: -91px;
			top: -0px;
			height: 400px;
		}
		&.active img:nth-child(4) {
			left: -240px;
			top: 0px;
		}
	}

	#projects .domy {
		img {
			left: 0px;
			top: -1px;
			width: auto;
			height: 550px;
		}
		&.active img {
			// left: -140px;
			// top: -25px;
			height: 400px;
		}

		&.active img:nth-child(1) {
			// left: -330px;
			// top: 0px;
		}

		&.active img:nth-child(3) {
			// left: -240px;
			// top: 0px;
		}
	}

	#projects .maxs {
		img {
			left: -206px;
			top: 0px;
		}
		&.active img {
			left: -210px;
			top: 0px;
		}
	}
	#projects .zelda {
		img {
			left: -41px;
			top: -0px;
		}
		&.active img {
			left: -65px;
			top: -0px;
		}
	}
	#projects .saga {
		img {
			left: 0px;
			top: -20px;
			width: auto;
			height: 550px;
			// height: 400px;
		}
		&.active img {
			height: 400px;
		}



		&.active img:nth-child(1) {
			left: -220px;
			top: -90px;
			height: 500px;
		}

		&.active img:nth-child(2) {
			left: -210px;
			top: -20px;
			height: 500px;
		}

		img:nth-child(3) {
			left: -586px;
			top: -150px;
			height: 540px;
		}
		&.active img:nth-child(3) {
			left: -235px;
			top: -120px;
		}

		img:nth-child(4) {
			left: -330px;
			top: -40px;
			height: 430px;
		}
		&.active img:nth-child(4) {
			left: -185px;
			top: 0px;
			height: 400px;
		}
	}

	/* non-opened projects */
	#projectlist.modal-active > li {
		opacity: 0.5;
		@include prefix(transform, translateZ(-20px));
	}

	/* opened project */
	#projectlist > li.active {
		position: absolute;
		/*top: 0px !important;*/
		/*left: 50% !important;*/
		width: 960px;
		z-index: 10;
		/*background-color: black;*/
		opacity: 1;
		-webkit-transform: none;
		padding-bottom: 50px;
	}
	#projectlist > li.active .image {
		background-position: 0px 0px;
		/*float: left;*/
		height: 100%;
		width: 450px;
	}
	#projectlist li.active:hover .image {
		/*height: 500px;*/
		height: 100%;
	}
	#projectlist > li.active h2,
	#projectlist > li.active h3,
	#projectlist > li.active .content {
		left: 470px;
		background-color: transparent;
		/*width: 450px;*/
		-webkit-transition: none;
	}
	#projectlist > li.active h2 {
		font-size: 2em;
		top: 5px;
		font-weight: bold;
		white-space: nowrap;
	}
	#projectlist > li.active h3 {
		font-size: 1.5em;
		top: 45px;
		font-weight: bold;
	}
	#projectlist > li.active h3 .agency {
		opacity: 0.9;
		width: 270px;
		font-weight: normal;
		display: inline;
	}
	#projectlist > li.active .content {
		top: 80px;
		width: 450px;
		height: auto;
		opacity: 1;
		line-height: 150%;
	}
	#projectlist > li.active .content .description, #projectlist > li.active .datenotes {
		background-color: transparent;
	}
	#projectlist > li.active .datenotes {
		opacity: 1;
	}
	#projectlist > li.active .opentext {
		display: none;
	}
	#projectlist > li.active .content ul {
		list-style-type: disc;
		margin-right: 1em;
		font-size: 0.9em;
	}


	#projectdetail { display: none; }

footer {}

@-webkit-keyframes fade-image {
	0% { opacity: 0; }
	5% { opacity: 1; }

	// math says 25% but we see image1 through the
	// combined transitioning transparencies
	// mucks up fade TO image1 though. hmm.
	27% { opacity: 1; }
  30% { opacity: 0; }
  100% { opacity: 0; }
}
