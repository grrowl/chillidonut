/*
from <http://matthewlein.com/ceaser/>:
	easeInOutQuint: cubic-bezier(0.860, 0.000, 0.070, 1.000)
	- too much for the big effect, the "jump" is too sudden
*/
@mixin prefix($name, $argument) {
  #{$name}: $argument;
  -webkit-#{$name}: $argument;
  -moz-#{$name}: $argument;
}

body {
	margin: 0;
	color: #dfe2e2;
	background: #1e2a38 url('../images/background.png') top left;
	font-family: sans-serif;
}
a, a:link, a:active, a:visited, a:hover {
	/*color: inherit;*/
	text-decoration: none;
	background-color: rgba(0,0,0,1);
	padding: 4px;
	color: #BBB;
}
a:visited {
	color: lightgrey;
}
a:hover {
	color: inherit;
	/*text-decoration: underline;*/
	background-color: rgba(0,0,0,0.4);
}

header {
	position: relative;
}
	header .container {
		position: relative;
		width: 960px;
		margin: 0px auto;
		padding: 20px 0;
		border-bottom: 1px solid #dfe2e2;
	}

	header h1 {
		text-indent: 50px;
		/*width: 960px;*/
		/*height: 190px;*/
		/*margin: 0px auto;*/
		/*border-bottom: 1px solid #dfe2e2;*/
		/*line-height: 190px;*/
		/*text-align: center;*/
	}
	header #donut {
		position: absolute;
		top: 43px;
		left: -5px;
		width: 40px;
		height: 40px;
	}
	header canvas {
		position: absolute;
		top: 0px;
		left: 50%;
		width: 960px;
		margin-left: -480px;
		height: 100%;
	}

	header nav {
		position: relative;
		float: right;
		width: 355px;
	}
	header nav ul {
		position: absolute;
		left: 0px;
		bottom: 0px;
		margin: 1em 0;
		list-style: none;
	}
	header nav ul li {
		line-height: 1.5em;
	}
	header nav .icon-github {
		padding-left: 20px;
		background: url('../images/icons/github.png') left center no-repeat;
	}
	header nav .icon-twitter {
		padding-left: 20px;
		background: url('../images/icons/twitter.png') left center no-repeat;
	}

	h1, h2, h3, .opentext, p, .datenotes, .image {
		font-family: 'Pontano Sans', sans-serif;
		font-weight: normal;
	}

section {
	width: 960px;
	margin: 0px auto;
}
@media all and (min-width: 1280px) {
	section, header h1 {
		width: 1280px;
	}
}
@media all and (min-width: 1600px) {
	section, header h1 {
		width: 1600px;
	}
}
section h1 {
	line-height: 80px;
	height: 80px;
	margin: 0;
}
#projects ul {
	margin: 0; padding: 0;
	list-style: none;
	position: relative;
	-webkit-perspective: 500;
}
#projects ul li {
	position: relative;
	float: left;
	width: 300px;
	height: 400px;
	margin-right: 30px;
	opacity: 1;
	overflow: hidden;
}
#projects.animated ul li {
	@include prefix(transition, all 0.5s ease 0s);
	/*-webkit-transition: top, left, width, height 0.5s ease 0s;*/
}
#projects ul li:nth-child(3n) {
	margin-right: 0px;
}
#projects ul li:nth-child(3n+1) {
	clear: left;
}
#projects ul li .image {
	width: 300px;
	height: 300px;
	overflow: hidden;
}
#projects ul li:hover .image {
	height: 390px;
}
	#projects ul li.text .image {
		background-color: white;

		color: black;
		font-weight: bold;
	}
	#projects ul li.text .image span {
		font-size: 4em;
		display: block;
		line-height: 80%;
		padding: 0.2em 0.1em;
	}
#projects h2, #projects h3, #projects .opentext, #projects .description {
	position: absolute;
	left: 0;
	margin: 0;
	line-height: 150%;
	background-color: black;
	z-index: 2;
	@include prefix(transition, left 0.5s ease 0s);
	padding: 0px 2px;
}
#projects li:hover h2, #projects li:hover h3, #projects li:hover .opentext {
	left: 8px;
}
#projects h2 {
	top: 300px;
}
#projects h3 {
	top: 330px;
	white-space: nowrap;
	/*-webkit-transition: all 0.4s ease 0.01s;*/
}
#projects li h3 .agency, #projects li .datenotes {
	opacity: 0;
}
#projects li .agency {
	display: none;
}
#projects li .datenotes {
	background-color: black;
}
#projects .content {
	position: absolute;
	top: 360px;
	left: 0px;
	/*-webkit-transition: all 0.4s ease 0.01s;*/
	opacity: 0;
	height: 0px;
	width: 480px;
}
#projects .opentext {
	z-index: 1;
	top: 300px;
	@include prefix(transition, all 0.5s ease 0s);
}
#projects li:hover .opentext {
	top: 357px;
}
#projects .image {
	position: relative;
	@include prefix(transition, #{width, height 0.5s ease 0s});

	img {
		position: absolute;
		@include prefix(transition, all 0.5s ease 0s);
	}

	/* some kind of slideshow */
	&.cycle {
		img {
			opacity: 0;
			@include prefix(animation, fade-image 20s ease 0s infinite);
		}
		img:nth-child(1) {
			opacity: 1 !important;
			// @include prefix(animation-delay, 0s);
			@include prefix(animation, none);
		}
		img:nth-child(2) {
			@include prefix(animation-delay, 5s);
		}
		img:nth-child(3) {
			@include prefix(animation-delay, 10s);
		}
		img:nth-child(4) {
			@include prefix(animation-delay, 15s);
		}
	}
}
	/* projects list */
	.mario {
		img {
			left: -190px;
			top: 0px;
			width: auto;
			height: 390px;
		}
		&.active img {
			left: -120px;
			top: 0px;
			height: 450px;
		}

		img:nth-child(1) {
			left: -120px;
			top: -15px;
			height: 405px;
		}
		&.active img:nth-child(1) {
			left: -50px;
			top: -10px;
		}

		&.active img:nth-child(3) {
			left: -300px;
		}

		img:nth-child(4) {
			left: -91px;
			top: -0px;
			height: 400px;
		}
		&.active img:nth-child(4) {
			left: -240px;
			top: 0px;
		}
	}

	#projects .domy {
		img {
			left: 0px;
			top: -1px;
			width: auto;
			height: 550px;
		}
		&.active img {
			// left: -140px;
			// top: -25px;
			height: 400px;
		}

		&.active img:nth-child(1) {
			// left: -330px;
			// top: 0px;
		}

		&.active img:nth-child(3) {
			// left: -240px;
			// top: 0px;
		}
	}

	#projects .maxs {
		img {
			left: -206px;
			top: 0px;
		}
		&.active img {
			left: -210px;
			top: 0px;
		}
	}
	#projects .zelda {
		img {
			left: -41px;
			top: -0px;
		}
		&.active img {
			left: -65px;
			top: -0px;
		}
	}
	#projects .saga {
		img {
			left: 0px;
			top: -20px;
			width: auto;
			height: 550px;
			// height: 400px;
		}
		&.active img {
			height: 400px;
		}



		&.active img:nth-child(1) {
			left: -220px;
			top: -90px;
			height: 500px;
		}

		&.active img:nth-child(2) {
			left: -210px;
			top: -20px;
			height: 500px;
		}

		img:nth-child(3) {
			left: -586px;
			top: -150px;
			height: 540px;
		}
		&.active img:nth-child(3) {
			left: -235px;
			top: -120px;
		}

		img:nth-child(4) {
			left: -330px;
			top: -40px;
			height: 430px;
		}
		&.active img:nth-child(4) {
			left: -185px;
			top: 0px;
			height: 400px;
		}
	}

	/* non-opened projects */
	#projects .modal-active li {
		opacity: 0.5;
		@include prefix(transform, translateZ(-20px));
	}

	/* opened project */
	#projects li.active {
		position: absolute;
		/*top: 0px !important;*/
		/*left: 50% !important;*/
		width: 960px;
		z-index: 10;
		/*background-color: black;*/
		opacity: 1;
		-webkit-transform: none;
		padding-bottom: 50px;
	}
	#projects li.active .image {
		background-position: 0px 0px;
		/*float: left;*/
		height: 100%;
		width: 450px;
	}
	#projects li.active:hover .image {
		/*height: 500px;*/
		height: 100%;
	}
	#projects li.active h2, #projects li.active h3, #projects li.active .content {
		left: 470px;
		background-color: transparent;
		/*width: 450px;*/
		-webkit-transition: none;
	}
	#projects li.active h2 {
		font-size: 2em;
		top: 5px;
		font-weight: bold;
		white-space: nowrap;
	}
	#projects li.active h3 {
		font-size: 1.5em;
		top: 45px;
		font-weight: bold;
	}
	#projects li.active h3 .agency {
		opacity: 0.9;
		width: 270px;
		font-weight: normal;
		display: inline;
	}
	#projects li.active .content {
		top: 80px;
		width: 450px;
		height: auto;
		opacity: 1;
		line-height: 150%;
	}
	#projects li.active .content .description, #projects li.active .datenotes {
		background-color: transparent;
	}
	#projects li.active .datenotes {
		opacity: 1;
	}
	#projects li.active .opentext {
		display: none;
	}


	#projectdetail { display: none; }

footer {}

/* donut */
#donut {
	// width: 100%;
	// height: 300px;
	// background-color: black;

	$wideness: 1em;
	$thickness: 0.65em;
	$circles: 28;
	$sides: 14;

	@include prefix(perspective, 100em);
	@include prefix(perspective-origin, 50% -0%);
	@include prefix(transform-style, preserve-3d);
	@include prefix(animation, #{
		swingx 15s ease-in-out infinite,
    roty 60s linear infinite
  });

  * {
		@include prefix(transform-style, preserve-3d);
  	@include prefix(backface-visibility, hidden);
	  position: absolute;
	  top: 50%;
	  left: 50%;
	}

	@for $i from 0 through $circles {
	  .circle:nth-child(#{$i}) {
			@include prefix(transform, #{rotateY($i / $circles * 360deg) translateZ($wideness)});
	  }
	}
	.circle {}
  .rotor {
		@include prefix(animation, rotx 15s linear 0s infinite);
  }

	@for $i from 0 through $sides {
		.dot:nth-child(#{$i}) {
  		@include prefix(transform, rotateX($i / $sides * 360deg) translateZ($thickness));
		}
	}

  .dot {
  	// @include prefix(animation, roty 15s linear 0s infinite);
  	background-color: white;
  	width: 0.25em;
  	height: 0.25em;
		border-radius: 50%;
		// border: 1px solid black;
  }
  .dot:nth-child(3n) {
		opacity: 0.8;
  }
  .dot:nth-child(3n+1) {
		opacity: 0.6;
  }
  .dot:nth-child(3n+2) {
		opacity: 0.4;
  }
}

@-webkit-keyframes rotx {
  to { @include prefix(transform, rotateX(360deg)); }
}

@-webkit-keyframes swingx {
  0% { @include prefix(transform, rotateX(-50deg)); }
  50% { @include prefix(transform, rotateX(-20deg)); }
  100% { @include prefix(transform, rotateX(-50deg)); }
}

@-webkit-keyframes swingz {
  0% { @include prefix(transform, rotateZ(-15deg)); }
  50% { @include prefix(transform, rotateZ(15deg)); }
  to { @include prefix(transform, rotateZ(-15deg)); }
}

@-webkit-keyframes roty {
  to { @include prefix(transform, rotateY(-360deg)); }
}

@-webkit-keyframes fade-image {
	0% { opacity: 0; }
	5% { opacity: 1; }

	// math says 25% but we see image1 through the
	// combined transitioning transparencies
	// mucks up fade TO image1 though. hmm.
	27% { opacity: 1; }
  30% { opacity: 0; }
  100% { opacity: 0; }
}
